apiVersion: v1
data:
  config-hash: 65bb57b6b5
  pgbackrest-server.conf: |
    # Generated by postgres-operator. DO NOT EDIT.
    # Your changes will not be saved.

    [global]
    tls-server-address = 0.0.0.0
    tls-server-auth = pgbackrest@61cd6c40-24f8-4020-8bc3-df9efa28a6b8=*
    tls-server-ca-file = /etc/pgbackrest/conf.d/~postgres-operator/tls-ca.crt
    tls-server-cert-file = /etc/pgbackrest/server/server-tls.crt
    tls-server-key-file = /etc/pgbackrest/server/server-tls.key

    [global:server]
    log-level-console = detail
    log-level-file = off
    log-level-stderr = error
    log-timestamp = n
  pgbackrest_instance.conf: |
    # Generated by postgres-operator. DO NOT EDIT.
    # Your changes will not be saved.

    [global]
    archive-async = y
    log-path = /pgdata/pgbackrest/log
    repo1-host = pyas2postgres-repo-host-0.pyas2postgres-pods.p2.svc.cluster.local.
    repo1-host-ca-file = /etc/pgbackrest/conf.d/~postgres-operator/tls-ca.crt
    repo1-host-cert-file = /etc/pgbackrest/conf.d/~postgres-operator/client-tls.crt
    repo1-host-key-file = /etc/pgbackrest/conf.d/~postgres-operator/client-tls.key
    repo1-host-type = tls
    repo1-host-user = postgres
    repo1-path = /pgbackrest/repo1
    spool-path = /pgdata/pgbackrest-spool

    [db]
    pg1-path = /pgdata/pg16
    pg1-port = 5432
    pg1-socket-path = /tmp/postgres
  pgbackrest_repo.conf: |
    # Generated by postgres-operator. DO NOT EDIT.
    # Your changes will not be saved.

    [global]
    log-path = /pgbackrest/repo1/log
    repo1-path = /pgbackrest/repo1

    [db]
    pg1-host = pyas2postgres-instance1-n4gg-0.pyas2postgres-pods.p2.svc.cluster.local.
    pg1-host-ca-file = /etc/pgbackrest/conf.d/~postgres-operator/tls-ca.crt
    pg1-host-cert-file = /etc/pgbackrest/conf.d/~postgres-operator/client-tls.crt
    pg1-host-key-file = /etc/pgbackrest/conf.d/~postgres-operator/client-tls.key
    pg1-host-type = tls
    pg1-path = /pgdata/pg16
    pg1-port = 5432
    pg1-socket-path = /tmp/postgres
kind: ConfigMap
metadata:
  labels:
    postgres-operator.crunchydata.com/cluster: pyas2postgres
    postgres-operator.crunchydata.com/pgbackrest: ""
    postgres-operator.crunchydata.com/pgbackrest-config: ""
  name: pyas2postgres-pgbackrest-config
