apiVersion: v1
data:
  patroni.yaml: |
    # Generated by postgres-operator. DO NOT EDIT.
    # Your changes will not be saved.
    ctl:
      cacert: /etc/patroni/~postgres-operator/patroni.ca-roots
      certfile: /etc/patroni/~postgres-operator/patroni.crt+key
      insecure: false
      keyfile: null
    kubernetes:
      labels:
        postgres-operator.crunchydata.com/cluster: pyas2postgres
      namespace: p2
      role_label: postgres-operator.crunchydata.com/role
      scope_label: postgres-operator.crunchydata.com/patroni
      use_endpoints: true
    postgresql:
      authentication:
        replication:
          sslcert: /tmp/replication/tls.crt
          sslkey: /tmp/replication/tls.key
          sslmode: verify-ca
          sslrootcert: /tmp/replication/ca.crt
          username: _crunchyrepl
        rewind:
          sslcert: /tmp/replication/tls.crt
          sslkey: /tmp/replication/tls.key
          sslmode: verify-ca
          sslrootcert: /tmp/replication/ca.crt
          username: _crunchyrepl
    restapi:
      cafile: /etc/patroni/~postgres-operator/patroni.ca-roots
      certfile: /etc/patroni/~postgres-operator/patroni.crt+key
      keyfile: null
      verify_client: optional
    scope: pyas2postgres-ha
    watchdog:
      mode: "off"
kind: ConfigMap
metadata:
  labels:
    postgres-operator.crunchydata.com/cluster: pyas2postgres
  name: pyas2postgres-config
